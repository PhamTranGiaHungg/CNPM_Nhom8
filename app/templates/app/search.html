{% extends 'app/base.html' %}
{% load static %}
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <link rel="stylesheet" href="">
    </head>
    <body>  
        {% block register %}
        <h5 class="search-result-heading">Kết quả tìm kiếm cho {{searched}}</h5><br/>
        <div class="row" style='width:100%;'>

          {% for product in keys %}
          <!-- Bắt đầu mỗi sản phẩm -->
          <div class="col-lg-3 mb-4">
            <div class="box-element product" style="height: 515px; border: 1px solid #000000; border-radius: 10px; display: flex; flex-direction: column; justify-content: space-between;">
                <!-- Hình ảnh sản phẩm -->
                <div class="image-container" style="height: 300px; width: 100%; overflow: hidden; display: flex; justify-content: center; align-items: center;">
                    <img class="thumbnail" src="{{product.ImageURL}}" 
                        style="width: 100%; height: 100%; object-fit: cover;">
                </div>
        
                <!-- Thông tin sản phẩm -->
                <div class="content-container" style="padding: 15px; display: flex; flex-direction: column; justify-content: space-between; flex-grow: 1;">
                    <h6 style="text-align: center; font-size: 1.25rem; font-weight: bold; margin-bottom: 5px;">
                        {{ product.name }}
                    </h6>
                    <hr>
                    <div class="button-price-container" style="display: flex; flex-direction: column; justify-content: space-between; flex-grow: 1;">
                        <!-- Các nút "Thêm vào giỏ" và "Xem" -->
                        <div class="buttons mb-2" style="display: flex; flex-direction: column; gap: 6px;">
                            <button data-product={{product.id}} data-action = "add" class="btn btn-outline-secondary add-btn w-100 mb-2 update-cart">Thêm vào giỏ</button>
                            <a class="btn btn-outline-secondary add-btn w-100 mb-2" href="{%url 'detail' %}?id={{product.id}}">Xem</a>
                        </div>
                        <!--load định dạng  giá-->
                        {% load custom_filters %}
                        <!-- Giá sản phẩm -->
                        <h3 class="text-center mb-0" style="font-size: 1.1rem;">
                            <strong>Giá: {{product.price | format_currency }}</strong>
                        </h3>
                    </div>
                </div>
            </div>
          </div>
          <!-- Kết thúc mỗi sản phẩm -->
        
          {% endfor %}
        </div>
        {% endblock register %}

</body>
</html> 
    